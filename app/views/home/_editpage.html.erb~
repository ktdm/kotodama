<%= form_for(editcode) do |p| %>
 <div>
  <div id="code_editor_actions" class="top">

   <span class="section_title"
    >Page: <%= link_to p.title, "example.html", :id => "title", :onmousedown => "if (event.which===1) stringedit(this,true);return false" %><%= text_field_tag :title, nil, :class=>"hide", :onkeypress=>"if (event.which===13) stringedit(this,false)", :onblur=>"if (this.style.display!=='none') stringedit(this,false)" %>
   </span>
   <span class="section_info">
    <span onclick="textedit(this,true)">Info</span
    ><div class="dropdown">
<%= text_area_tag :info, p.info, :onkeypress => "if (event.which===13&&!event.shiftKey) {textedit(this.parentNode,false);return false}", :onblur => "if ((p=this.parentNode).style.display!=='none') textedit(p,false)" %></div>
   </span>

   <div id="code_editor_menu" class="actions">
    <a href="#">Save</a>
    <a href="#">New</a>
    <a href="#" onclick="toggle_frames(this.firstChild.data)">Render</a>
    <a href="#" onclick="toggle_frames(this.firstChild.data)">Code</a>
   </div>

  </div>
 </div>
 <div>
  <div id="code_editor_canvas" class="bottom">

   <div id="code_editor_frame" style="height:100%">
<%= text_area_tag :html, p.html, :id => "code_editor", :class => "editor_window" %>
    <!--textarea id="code_editor" class="editor_window">
&lt;!DOCTYPE html&gt;
&lt;html lang="en-AU"&gt;
&nbsp;&lt;body style="text-align:center"&gt;
&nbsp;&nbsp;&lt;h1&gt;Example page&lt;/h1&gt;
&nbsp;&lt;/body&gt;
&lt;/html&gt;
    </textarea-->
   </div>

   <div id="code_result_frame" style="height:100%">
    <iframe id="code_result" class="editor_window" src="example.html"></iframe>
   </div>

  </div>
 </div>
<% end %>
